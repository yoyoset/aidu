# Protocol: Core Governance (核心治理协议)

所有 AI 代理在处理本项目时必须严格执行以下治理逻辑。

## 1. 沟通协议：六步法 (Six-Step Sync)

在执行**重大架构变更**、**核心技术选型**或遇到**高度不确定性**的任务时，必须停下来，按照以下格式向用户汇报：

1. **Problem (问题)**：当前的技术难点或系统局限。
2. **Goal (目标)**：期望达到的最终体验。
3. **Conflicts (冲突)**：性能、复杂度与 UX 之间的博弈。
4. **Solutions (方案)**：提供至少两个差异化路径。
5. **Trade-offs (权衡)**：量化利弊分析。
6. **Conclusion (结论)**：AI 的专家建议及用户确认结果。

## 2. 修改禁令 (Modification Bans)

- ❌ **禁止直接修改主入口文件**（如 `main.rs`, `App.tsx`, `index.js`），除非是注册新模块。
- ❌ **禁止在核心逻辑中“加一行修一行”**。如果发现逻辑乱，必须先重构。
- ❌ **禁止把多个独立功能塞进一个函数**。
- ❌ **禁止在代码中使用硬编码路径或密钥**。

## 3. 任务交付流程 (Delivery Flow)

- 每次修改后，必须运行相关的编译或测试命令。
- 任务完成后，更新 `CHANGELOG.md` 并标记 `INBOX.md` 对应项为 Done。
- 询问用户：“测试通过了吗？”确认后再进入下一个任务。
